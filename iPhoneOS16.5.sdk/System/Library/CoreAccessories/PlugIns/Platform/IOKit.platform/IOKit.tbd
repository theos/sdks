--- !tapi-tbd-v3
archs:                 [ armv7, armv7s, arm64, arm64e ]
platform:              ios
flags:                 [ flat_namespace ]
install-name:          /System/Library/CoreAccessories/PlugIns/Platform/IOKit.platform/IOKit
current-version:       0
compatibility-version: 0
objc-constraint:       retain_release
exports:
  - archs:                [ armv7, armv7s, arm64, arm64e ]
    symbols:              [ _ACCPlatformIOKitPowerPlugin_BatteryChargeLevel,
                            _ACCPlatformIOKitPowerPlugin_BatteryChargingState,
                            _ACCPlatformIOKitPowerPlugin_BatteryChargingTypeChanged,
                            _ACCPlatformIOKitPowerPlugin_IsExternalChargerConnected,
                            _ACCPlatformSystemPower_SystemCanSleepNotification,
                            _ACCPlatformSystemPower_SystemHasPoweredOnNotification,
                            _ACCPlatformSystemPower_SystemWillSleepNotification,
                            _ACCPlatformUSBCableTypePlugin_ConnectionUUID,
                            _ACCPlatformUSBCableTypePlugin_USBCableTypeDidChange,
                            _ACCPlatformUSBCableTypePlugin_USBCableTypeKey,
                            _ACCPlatformUSBCameraKitHubPlugin_ConnectionUUID,
                            _ACCPlatformUSBCameraKitHubPlugin_HubChange,
                            _ACCPlatformUSBFaultPlugin_USBFaultNotification,
                            _ACCPlatformUSBFaultPlugin_USBFaultNotification_ConnectionUUIDKey,
                            _ACCPlatformUSBFaultPlugin_USBFaultNotification_FaultTypeKey,
                            _ACCUserDefaultsDomain, _ACCUserDefaultsIapdDomain,
                            _ACCUserDefaultsIapdKey_ChargingPowerBehavior,
                            _ACCUserDefaultsIapdKey_ChargingPowerOverride,
                            _ACCUserDefaultsIapdKey_PretendAccessoryType,
                            _ACCUserDefaultsIapdKey_PretendBatteryLevel,
                            _ACCUserDefaultsIapdNotification,
                            _ACCUserDefaultsKey_ACCAuthProtocolAllowMutualAuth,
                            _ACCUserDefaultsKey_ACCAuthProtocolMaxMessageSize,
                            _ACCUserDefaultsKey_ACCAuthProtocolPretendAuth,
                            _ACCUserDefaultsKey_ACCAuthProtocolRoleSupport,
                            _ACCUserDefaultsKey_AllowACCAuthProtocolOnAllTransport,
                            _ACCUserDefaultsKey_AllowMFi4DevCertsOnProdDevice,
                            _ACCUserDefaultsKey_AllowNFCColorOverride,
                            _ACCUserDefaultsKey_AuthCPStartDelayMs,
                            _ACCUserDefaultsKey_AuthTTRForAllTransports,
                            _ACCUserDefaultsKey_BypassTrustDialog,
                            _ACCUserDefaultsKey_DeviceIdentityPreArmDateOverride,
                            _ACCUserDefaultsKey_DisableAACPAuth,
                            _ACCUserDefaultsKey_DisableACCAuthProtocolOnInductive,
                            _ACCUserDefaultsKey_DisableAMSHookUp,
                            _ACCUserDefaultsKey_DisableCertSupport,
                            _ACCUserDefaultsKey_DisableCertVerification,
                            _ACCUserDefaultsKey_DisableChinaInductiveTx,
                            _ACCUserDefaultsKey_DisableIAPHVCFixForAuth,
                            _ACCUserDefaultsKey_DisableSNOnly,
                            _ACCUserDefaultsKey_DisableWirelessCTA,
                            _ACCUserDefaultsKey_EnableACCAuthProtocolOnNFC,
                            _ACCUserDefaultsKey_EnableAuthTimeoutTTR,
                            _ACCUserDefaultsKey_EnableDEVNCertSupport,
                            _ACCUserDefaultsKey_EnableTrustDialog,
                            _ACCUserDefaultsKey_ForceAuthFail,
                            _ACCUserDefaultsKey_ForceAuthTimeout,
                            _ACCUserDefaultsKey_IdentityCertRefreshInterval,
                            _ACCUserDefaultsKey_IdentityCertRefreshState,
                            _ACCUserDefaultsKey_IdentityCertUseIndex,
                            _ACCUserDefaultsKey_IdentityCertUseTime,
                            _ACCUserDefaultsKey_IgnoreAACPAuthStatus,
                            _ACCUserDefaultsKey_IgnoreIsOnAC,
                            _ACCUserDefaultsKey_KeepAACPAuthData,
                            _ACCUserDefaultsKey_KnownAccessories,
                            _ACCUserDefaultsKey_NFCAnalyticsDate,
                            _ACCUserDefaultsKey_NFCColorOverride,
                            _ACCUserDefaultsKey_NFCSecondaryColorOverride,
                            _ACCUserDefaultsKey_OverrideCanReceiveInductivePowerOID,
                            _ACCUserDefaultsKey_PowerSourceUpdateBehavior,
                            _ACCUserDefaultsKey_ShowHiddenAccessories,
                            _ACCUserDefaultsKey_TreatAuthCPDEVNAsV3,
                            _ACCUserDefaultsKey_UseCertDataPropertyForAuth,
                            _ACCUserDefaultsLoggingDomain,
                            _ACCUserDefaultsLoggingKey_TransportSignpost,
                            _ACCUserDefaultsNotification,
                            ___mapFamilyCodeToChargingType,
                            _acc_userDefaultsIapd_boolForKey,
                            _acc_userDefaultsIapd_copyArrayForKey,
                            _acc_userDefaultsIapd_copyDictionaryForKey,
                            _acc_userDefaultsIapd_copyDoubleForKey,
                            _acc_userDefaultsIapd_copyIntegerForKey,
                            _acc_userDefaultsIapd_copyStringForKey,
                            _acc_userDefaultsLogging_boolForKey,
                            _acc_userDefaults_boolForKey,
                            _acc_userDefaults_copyArrayForKey,
                            _acc_userDefaults_copyDictionaryForKey,
                            _acc_userDefaults_copyDoubleForKey,
                            _acc_userDefaults_copyIntegerForKey,
                            _acc_userDefaults_copyStringForKey,
                            _acc_userDefaults_setArrayForKey,
                            _acc_userDefaults_setDoubleForKey,
                            _acc_userDefaults_setIntegerForKey, _init_logging,
                            _init_logging_signposts,
                            _kCFACCUserDefaultsIapdKey_ChargingPowerBehavior,
                            _kCFACCUserDefaultsIapdKey_ChargingPowerOverride,
                            _kCFACCUserDefaultsIapdKey_PretendAccessoryType,
                            _kCFACCUserDefaultsIapdKey_PretendBatteryLevel,
                            _kCFACCUserDefaultsKey_ACCAuthProtocolAllowMutualAuth,
                            _kCFACCUserDefaultsKey_ACCAuthProtocolMaxMessageSize,
                            _kCFACCUserDefaultsKey_ACCAuthProtocolPretendAuth,
                            _kCFACCUserDefaultsKey_ACCAuthProtocolRoleSupport,
                            _kCFACCUserDefaultsKey_AllowACCAuthProtocolOnAllTransport,
                            _kCFACCUserDefaultsKey_AllowMFi4DevCertsOnProdDevice,
                            _kCFACCUserDefaultsKey_AllowNFCColorOverride,
                            _kCFACCUserDefaultsKey_AuthCPStartDelayMs,
                            _kCFACCUserDefaultsKey_AuthTTRForAllTransports,
                            _kCFACCUserDefaultsKey_AuthenticationOverride,
                            _kCFACCUserDefaultsKey_DeviceIdentityPreArmDateOverride,
                            _kCFACCUserDefaultsKey_DisableAACPAuth,
                            _kCFACCUserDefaultsKey_DisableACCAuthProtocolOnInductive,
                            _kCFACCUserDefaultsKey_DisableAMSHookUp,
                            _kCFACCUserDefaultsKey_DisableCertSupport,
                            _kCFACCUserDefaultsKey_DisableCertVerification,
                            _kCFACCUserDefaultsKey_DisableChinaInductiveTx,
                            _kCFACCUserDefaultsKey_DisableIAPHVCFixForAuth,
                            _kCFACCUserDefaultsKey_DisableSNOnly,
                            _kCFACCUserDefaultsKey_DisableWirelessCTA,
                            _kCFACCUserDefaultsKey_EnableACCAuthProtocolOnNFC,
                            _kCFACCUserDefaultsKey_EnableAuthTimeoutTTR,
                            _kCFACCUserDefaultsKey_EnableDEVNCertSupport,
                            _kCFACCUserDefaultsKey_EnableTrustDialog,
                            _kCFACCUserDefaultsKey_ForceAuthFail,
                            _kCFACCUserDefaultsKey_ForceAuthTimeout,
                            _kCFACCUserDefaultsKey_IdentityCertRefreshInterval,
                            _kCFACCUserDefaultsKey_IdentityCertRefreshState,
                            _kCFACCUserDefaultsKey_IdentityCertUseIndex,
                            _kCFACCUserDefaultsKey_IdentityCertUseTime,
                            _kCFACCUserDefaultsKey_IgnoreAACPAuthStatus,
                            _kCFACCUserDefaultsKey_IgnoreIsOnAC,
                            _kCFACCUserDefaultsKey_KeepAACPAuthData,
                            _kCFACCUserDefaultsKey_MaxOutboundiAP2PacketSize,
                            _kCFACCUserDefaultsKey_NFCAnalyticsDate,
                            _kCFACCUserDefaultsKey_NFCColorOverride,
                            _kCFACCUserDefaultsKey_NFCSecondaryColorOverride,
                            _kCFACCUserDefaultsKey_OverrideCanReceiveInductivePowerOID,
                            _kCFACCUserDefaultsKey_PowerSourceUpdateBehavior,
                            _kCFACCUserDefaultsKey_TreatAuthCPDEVNAsV3,
                            _kCFACCUserDefaultsKey_UseCertDataPropertyForAuth,
                            _kCFACCUserDefaultsLoggingKey_TransportSignpost,
                            _kUSBBusCurrentAllocation,
                            _kUSBCameraKitHubTotalCurrent, _kUSBCardReaderClass,
                            _kUSBFailedRequestedPower ]
    objc-classes:         [ ACCPlatformPluginIOKit, ACCUserDefaults, IAPUIDManager,
                            PowerMonitor, SleepAssertionManager,
                            USBCableTypeMonitor, USBCameraKitHubMonitor,
                            USBFaultMonitor ]
    objc-ivars:           [ ACCPlatformPluginIOKit._isRunning,
                            ACCPlatformPluginIOKit._monitor,
                            PowerMonitor._batteryCapacity,
                            PowerMonitor._batteryCapacityMax,
                            PowerMonitor._batteryCapacityOverride,
                            PowerMonitor._batteryChargeLevelPercent,
                            PowerMonitor._batteryChargingType,
                            PowerMonitor._batteryChargingTypeExternal,
                            PowerMonitor._batteryNotificationClients,
                            PowerMonitor._batteryNotificationClientsLock,
                            PowerMonitor._batteryNotifyPortRef,
                            PowerMonitor._battery_iter,
                            PowerMonitor._clientsPreventingSleep,
                            PowerMonitor._clientsPreventingSleepLock,
                            PowerMonitor._isBatteryCharging,
                            PowerMonitor._isExtChargerConnected,
                            PowerMonitor._sleepNotificationClients,
                            PowerMonitor._sleepNotificationsEnabled,
                            PowerMonitor._sleepSemaphore,
                            PowerMonitor._systemIsAsleep,
                            PowerMonitor._systemPowerIterator,
                            PowerMonitor._systemPowerNotifyPortRef,
                            PowerMonitor._systemPowerPort,
                            PowerMonitor._systemPowerQueue,
                            SleepAssertionManager._applePencilSleepAssertionHeld,
                            SleepAssertionManager._applePencilSleepAssertionID,
                            SleepAssertionManager._applePencilSleepAssertionTimer,
                            SleepAssertionManager._applePencilSleepAssertionTimerQueue,
                            SleepAssertionManager._assertions,
                            SleepAssertionManager._eaSleepAssertionHeld,
                            SleepAssertionManager._eaSleepAssertionID,
                            SleepAssertionManager._mfi4SleepAssertionHeld,
                            SleepAssertionManager._mfi4SleepAssertionID,
                            SleepAssertionManager._mfi4SleepAssertionTimer,
                            SleepAssertionManager._mfi4SleepAssertionTimerQueue,
                            SleepAssertionManager._sleepAssertionHeld,
                            SleepAssertionManager._sleepAssertionsLock,
                            USBCableTypeMonitor._ioUSB30XHCIRemovablePortMatchIterator,
                            USBCableTypeMonitor._ioUSB30XHCIRemovablePortNotification,
                            USBCableTypeMonitor._ioUSB30XHCIRemovablePortNotifyPort,
                            USBCableTypeMonitor._ioUSB30XHCIRemovablePortService,
                            USBCableTypeMonitor._ioUSB30XHCIRemovablePortTerminateIterator,
                            USBCableTypeMonitor._registeredUUIDs,
                            USBCableTypeMonitor._uid,
                            USBCameraKitHubMonitor._ioUSB20CameraKitHubCurrentNeeded,
                            USBCameraKitHubMonitor._ioUSB20CameraKitHubExtraRequestedPower,
                            USBCameraKitHubMonitor._ioUSB20CameraKitHubMatchIterator,
                            USBCameraKitHubMonitor._ioUSB20CameraKitHubNotification,
                            USBCameraKitHubMonitor._ioUSB20CameraKitHubNotifyPort,
                            USBCameraKitHubMonitor._ioUSB20CameraKitHubPortCurrentAllocation,
                            USBCameraKitHubMonitor._ioUSB20CameraKitHubPortFailedRequestedPower,
                            USBCameraKitHubMonitor._ioUSB20CameraKitHubPortMatchIterator,
                            USBCameraKitHubMonitor._ioUSB20CameraKitHubPortNotification,
                            USBCameraKitHubMonitor._ioUSB20CameraKitHubPortNotifyPort,
                            USBCameraKitHubMonitor._ioUSB20CameraKitHubPortService,
                            USBCameraKitHubMonitor._ioUSB20CameraKitHubPortTerminateIterator,
                            USBCameraKitHubMonitor._ioUSB20CameraKitHubService,
                            USBCameraKitHubMonitor._ioUSB20CameraKitHubTerminateIterator,
                            USBCameraKitHubMonitor._ioUSB30CameraKitHubCurrentNeeded,
                            USBCameraKitHubMonitor._ioUSB30CameraKitHubMatchIterator,
                            USBCameraKitHubMonitor._ioUSB30CameraKitHubNotification,
                            USBCameraKitHubMonitor._ioUSB30CameraKitHubNotifyPort,
                            USBCameraKitHubMonitor._ioUSB30CameraKitHubPortCurrentAllocation,
                            USBCameraKitHubMonitor._ioUSB30CameraKitHubPortFailedRequestedPower,
                            USBCameraKitHubMonitor._ioUSB30CameraKitHubPortMatchIterator,
                            USBCameraKitHubMonitor._ioUSB30CameraKitHubPortNotification,
                            USBCameraKitHubMonitor._ioUSB30CameraKitHubPortNotifyPort,
                            USBCameraKitHubMonitor._ioUSB30CameraKitHubPortService,
                            USBCameraKitHubMonitor._ioUSB30CameraKitHubPortTerminateIterator,
                            USBCameraKitHubMonitor._ioUSB30CameraKitHubService,
                            USBCameraKitHubMonitor._ioUSB30CameraKitHubTerminateIterator,
                            USBCameraKitHubMonitor._ioUSBCameraKitHubCurrentNeedUpdate,
                            USBCameraKitHubMonitor._ioUSBCameraKitHubOverCurrentDetected,
                            USBCameraKitHubMonitor._ioUSBCameraKitHubTotalCurrent,
                            USBCameraKitHubMonitor._once,
                            USBCameraKitHubMonitor._queue,
                            USBFaultMonitor._ioUSBCardReaderMatchIterator,
                            USBFaultMonitor._ioUSBCardReaderNotification,
                            USBFaultMonitor._ioUSBCardReaderNotifyPort,
                            USBFaultMonitor._ioUSBCardReaderService,
                            USBFaultMonitor._ioUSBCardReaderTerminateIterator,
                            USBFaultMonitor._registeredUUIDs,
                            USBFaultMonitor._requestedUSBFaultNotifications,
                            USBFaultMonitor._uid,
                            USBFaultMonitor._usbFaultStates,
                            USBFaultMonitor._usbFaultStatesSent ]
...
