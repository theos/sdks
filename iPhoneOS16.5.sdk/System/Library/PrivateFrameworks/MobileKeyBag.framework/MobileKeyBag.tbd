--- !tapi-tbd-v3
archs:                 [ armv7, armv7s, arm64, arm64e ]
platform:              ios
flags:                 [ flat_namespace ]
install-name:          /System/Library/PrivateFrameworks/MobileKeyBag.framework/MobileKeyBag
current-version:       1
compatibility-version: 1
objc-constraint:       retain_release
exports:
  - archs:                [ armv7, armv7s, arm64, arm64e ]
    symbols:              [ _MKBBackupActualFileSize, _MKBBackupClose,
                            _MKBBackupCopyBackupBagUUIDForBag,
                            _MKBBackupCopyBackupBagUUIDForVolume,
                            _MKBBackupCopyBackupKeyUUID, _MKBBackupCopyKey,
                            _MKBBackupCreateFromFileDescriptors,
                            _MKBBackupDecryptInPlace, _MKBBackupDisableForVolume,
                            _MKBBackupEnableForVolume,
                            _MKBBackupGetFileDescriptors, _MKBBackupOpen,
                            _MKBBackupPread, _MKBBackupSetKeyEncryptionModeToXTS,
                            _MKBBackupSize, _MKBBackupUpdateKey,
                            _MKBBackupValidateBackupKeyWithUUID,
                            _MKBBackupValidateKey, _MKBBackupValidateKeyUUID,
                            _MKBCurrentSyncBubbleSessionID,
                            _MKBDeviceFormattedForContentProtection,
                            _MKBDeviceGetGracePeriod, _MKBDeviceLockAssertion,
                            _MKBDeviceLockAssertionConsume,
                            _MKBDeviceLockAssertionPromote,
                            _MKBDeviceObliterateClassDKey,
                            _MKBDeviceSetGracePeriod,
                            _MKBDeviceSupportsContentProtection,
                            _MKBDeviceUnlockedSinceBoot, _MKBEventsRegister,
                            _MKBEventsUnregister, _MKBFileClose,
                            _MKBFileCopyWrappedKey, _MKBFileCreateForRestore,
                            _MKBFileEncryptedBlockSize, _MKBFileGetFD,
                            _MKBFileOpenForBackup, _MKBFileRead,
                            _MKBFileValidateWrappedKey, _MKBFileWrite,
                            _MKBForegroundUserSession,
                            _MKBForegroundUserSessionID,
                            _MKBGetDeviceConfigurations, _MKBGetDeviceLockState,
                            _MKBGetDeviceLockStateIndirect,
                            _MKBGetDeviceLockStateInfo, _MKBKeyBagChangeSecret,
                            _MKBKeyBagChangeSystemGeneration,
                            _MKBKeyBagChangeSystemSecret,
                            _MKBKeyBagChangeSystemSecretWithEscrow,
                            _MKBKeyBagCopyData, _MKBKeyBagCopySytemSecretBlob,
                            _MKBKeyBagCopyUUID, _MKBKeyBagCreateBackup,
                            _MKBKeyBagCreateEscrow,
                            _MKBKeyBagCreateEscrowWithAuth,
                            _MKBKeyBagCreateOTABackup, _MKBKeyBagCreateSystem,
                            _MKBKeyBagCreateSystemUnwrapped,
                            _MKBKeyBagCreateWithData, _MKBKeyBagGetAKSHandle,
                            _MKBKeyBagGetSystemGeneration,
                            _MKBKeyBagIsKeyRolling, _MKBKeyBagKeyStashCommit,
                            _MKBKeyBagKeyStashCommitWithOpts,
                            _MKBKeyBagKeyStashCreate,
                            _MKBKeyBagKeyStashCreateWithManifest,
                            _MKBKeyBagKeyStashCreateWithMode,
                            _MKBKeyBagKeyStashCreateWithOpts,
                            _MKBKeyBagKeyStashDestroy, _MKBKeyBagKeyStashEnable,
                            _MKBKeyBagKeyStashEnableWithManifest,
                            _MKBKeyBagKeyStashEnableWithOpts,
                            _MKBKeyBagKeyStashLoad,
                            _MKBKeyBagKeyStashLoadWithOpts,
                            _MKBKeyBagKeyStashPersist,
                            _MKBKeyBagKeyStashPersistWithOpts,
                            _MKBKeyBagKeyStashSetManifest,
                            _MKBKeyBagKeyStashSupport, _MKBKeyBagKeyStashVerify,
                            _MKBKeyBagKeyStashVerifyWithOpts, _MKBKeyBagLock,
                            _MKBKeyBagMigrateFS, _MKBKeyBagPerformRecovery,
                            _MKBKeyBagRegisterOTABackup, _MKBKeyBagRelease,
                            _MKBKeyBagUnload, _MKBKeyBagUnlock, _MKBLockDevice,
                            _MKBLockDeviceNow, _MKBNotifyStateIsSet,
                            _MKBNotifyStateSet, _MKBOTABackupBagClose,
                            _MKBOTABackupBagCopyUUID, _MKBOTABackupBagIsKernel,
                            _MKBOTABackupBagOpen, _MKBOTABackupDecryptInPlace,
                            _MKBOTABackupKeyBag, _MKBOTABackupStart,
                            _MKBOTABackupStartForVolume, _MKBOTABackupStop,
                            _MKBOTABackupStopForVolume, _MKBPrewarmSPS,
                            _MKBSeshatDebug, _MKBSetDeviceConfigurations,
                            _MKBSetLogFunction, _MKBUnlockDevice,
                            _MKBUserSessionConfigureLoginWindow,
                            _MKBUserSessionCreateKeybagForUser,
                            _MKBUserSessionCreatePersonaKeyForUser,
                            _MKBUserSessionCreateSyncBagForUser,
                            _MKBUserSessionDeleteKeybagForUser,
                            _MKBUserSessionDeleteSecureBackupBlob,
                            _MKBUserSessionGetUserLockStateInfo,
                            _MKBUserSessionIsLoginSession,
                            _MKBUserSessionIsLoginWindow,
                            _MKBUserSessionListSyncMachServices,
                            _MKBUserSessionLoadKeybagForUser,
                            _MKBUserSessionLoadSyncBagForUser,
                            _MKBUserSessionLoadWithPasscode,
                            _MKBUserSessionRemovePersonaKeyForUser,
                            _MKBUserSessionRemoveSyncBagForUser,
                            _MKBUserSessionRetrieveSecureBackupBlob,
                            _MKBUserSessionSetSecureBackupBlob,
                            _MKBUserSessionSetVolumeToPersona,
                            _MKBUserSessionSwitchToLoginWindow,
                            _MKBUserSessionUnLoadSyncBagForUser,
                            _MKBUserSessionUnWrapSession,
                            _MKBUserSessionUnloadKeybagForUser,
                            _MKBUserSessionUnloadSessionBags,
                            _MKBUserSessionVerifySyncBagForUser,
                            _MKBUserSessionWrapSession, _MKBUserTypeDeviceMode,
                            _MKBUserUnlockedSinceBoot,
                            _MKBVerifyPasswordWithContext,
                            __MKBKeyBagChangeSystemSecretDirect,
                            _kMKBConfigBackOffDelay, _kMKBConfigGracePeriod,
                            _kMKBConfigMaxUnlockAttempts, _kMKBDeviceModeKey,
                            _kMKBDeviceModeMultiUser, _kMKBDeviceModeSharedIPad,
                            _kMKBDeviceModeSingleUser, _kMKBInfoBackOff,
                            _kMKBInfoBagState, _kMKBInfoFailedAttempts,
                            _kMKBInfoLockState, _kMKBInfoPermanentlyBlocked,
                            _kMKBInfoRecoveryCountdown, _kMKBInfoShouldWipe,
                            _kMKBUserSessionAPFSConvertedVolume,
                            _kMKBUserSessionAPFSNativeVolume,
                            _kMKBUserSessionAPNSIDKey,
                            _kMKBUserSessionAlternateUUIDKey,
                            _kMKBUserSessionAuditorKey,
                            _kMKBUserSessionCachedLoginEndTimeKey,
                            _kMKBUserSessionCachedLoginStartTimeKey,
                            _kMKBUserSessionCloudLoginTimeStampKey,
                            _kMKBUserSessionCreateTimeStampKey,
                            _kMKBUserSessionDeviceNetworkBGKey,
                            _kMKBUserSessionDirtyKey,
                            _kMKBUserSessionDisabledKey,
                            _kMKBUserSessionDisplayNameKey,
                            _kMKBUserSessionEachUserSize,
                            _kMKBUserSessionFileInfoKey,
                            _kMKBUserSessionFirstLoginEndTimeKey,
                            _kMKBUserSessionFirstLoginStartTimeKey,
                            _kMKBUserSessionFirstNameKey,
                            _kMKBUserSessionForegroundKey,
                            _kMKBUserSessionGroupIDKey,
                            _kMKBUserSessionHFSPlusVolume,
                            _kMKBUserSessionHomeDirKey, _kMKBUserSessionIDKey,
                            _kMKBUserSessionLanguageKey,
                            _kMKBUserSessionLastNameKey,
                            _kMKBUserSessionLibinfoHomeDirKey,
                            _kMKBUserSessionLoginTimeStampKey,
                            _kMKBUserSessionLoginUserKey,
                            _kMKBUserSessionLogoutEndTimeKey,
                            _kMKBUserSessionLogoutStartTimeKey,
                            _kMKBUserSessionManagedDevice,
                            _kMKBUserSessionNameKey,
                            _kMKBUserSessionOpaqueDataKey, _kMKBUserSessionOther,
                            _kMKBUserSessionPreviousLoggedinIDKey,
                            _kMKBUserSessionQuotaLimitKey,
                            _kMKBUserSessionQuotaSoftLimitKey,
                            _kMKBUserSessionQuotaUsedKey,
                            _kMKBUserSessionReqTotalUsers,
                            _kMKBUserSessionRequiresPasscodeKey,
                            _kMKBUserSessionShortNameKey,
                            _kMKBUserSessionSystemLoginSize,
                            _kMKBUserSessionTotalDataSize,
                            _kMKBUserSessionTotalUsers, _kMKBUserSessionTypeKey,
                            _kMKBUserSessionUUIDKey,
                            _kMKBUserSessionUserVolumeTypeKey,
                            _kMKBUserSessionVolumeDeviceNodeKey,
                            _kMKBUserSessionVolumeMountedKey,
                            _kMKBUserSessionVolumeUUIDKey,
                            _kMKBUserSessionisTransientKey,
                            _kMKBUserSwitchTaskBundleIDKey,
                            _kMKBUserSwitchTaskMachServiceNameKey,
                            _kMKBUserSwitchTaskNameKey,
                            _kMKBUserSwitchTaskPIDKey,
                            _kMKBUserSwitchTaskReasonKey,
                            _kMKBUserSwitchTaskUUIDKey, _kMKBUserTypeEphemeral,
                            _kMKBUserTypeKey, _kMKBUserTypePermanent,
                            _kMobileKeyBagLockStatusNotification,
                            _kMobileKeyBagLockStatusNotifyToken,
                            _kMobileKeyBagPasscodeThresholdNotifyToken,
                            _kMobileKeyBagUserChangedNotificationToken,
                            _kMobileKeyBagUserStartedNotificationToken,
                            _kUMForegroundUserChangedNotificationToken ]
    objc-classes:         [ MKBKeyStoreDevice ]
...
