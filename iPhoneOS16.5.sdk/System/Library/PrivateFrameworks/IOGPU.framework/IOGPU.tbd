--- !tapi-tbd-v3
archs:                 [ armv7, armv7s, arm64, arm64e ]
platform:              ios
flags:                 [ flat_namespace ]
install-name:          /System/Library/PrivateFrameworks/IOGPU.framework/IOGPU
current-version:       1
compatibility-version: 1
objc-constraint:       retain_release
exports:
  - archs:                [ armv7, armv7s, arm64, arm64e ]
    symbols:              [ _IOGPUCommandQueueCreate,
                            _IOGPUCommandQueueCreateWithQoS,
                            _IOGPUCommandQueueDispatchAvailableCompletionNotifications,
                            _IOGPUCommandQueueGetConnect,
                            _IOGPUCommandQueueGetGlobalTraceObjectID,
                            _IOGPUCommandQueueGetID, _IOGPUCommandQueueGetTypeID,
                            _IOGPUCommandQueueRelease,
                            _IOGPUCommandQueueSetDispatchQueue,
                            _IOGPUCommandQueueSetPriorityAndBackground,
                            _IOGPUCommandQueueSetQualityOfService,
                            _IOGPUCommandQueueSubmitCommandBuffers,
                            _IOGPUDeviceCheckAndLogSoftFaultCount,
                            _IOGPUDeviceCreate, _IOGPUDeviceCreateDeviceShmem,
                            _IOGPUDeviceCreateVNIODesc,
                            _IOGPUDeviceCreateWithAPIProperty,
                            _IOGPUDeviceDestroyDeviceShmem,
                            _IOGPUDeviceDestroyVNIODesc,
                            _IOGPUDeviceGetAllocatedSize,
                            _IOGPUDeviceGetAppGPURole, _IOGPUDeviceGetConfig,
                            _IOGPUDeviceGetConfig64, _IOGPUDeviceGetConnect,
                            _IOGPUDeviceGetCurrentTraceFilter,
                            _IOGPUDeviceGetGlobalTraceObjectID,
                            _IOGPUDeviceGetMaxResourceSize,
                            _IOGPUDeviceGetMemoryData, _IOGPUDeviceGetName,
                            _IOGPUDeviceGetNextGlobalTraceID,
                            _IOGPUDeviceGetSharedMemorySize,
                            _IOGPUDeviceGetTypeID, _IOGPUDeviceRelease,
                            _IOGPUDeviceSetAppGPURole,
                            _IOGPUDeviceSetDisplayParams,
                            _IOGPUDeviceSetWaitForGPUCallback,
                            _IOGPUDeviceTestEvent, _IOGPUDeviceTestEventFast,
                            _IOGPUDeviceTraceEvent, _IOGPUDeviceTraceEventEnd,
                            _IOGPUDeviceTraceEventStart,
                            _IOGPUDeviceTraceObjectLabel,
                            _IOGPUIOCommandQueueCreate,
                            _IOGPUIOCommandQueueCreateIOCommandBuffer,
                            _IOGPUIOCommandQueueDestroyIOCommandBuffer,
                            _IOGPUIOCommandQueueGetConnect,
                            _IOGPUIOCommandQueueGetGlobalTraceObjectID,
                            _IOGPUIOCommandQueueGetID,
                            _IOGPUIOCommandQueueGetTypeID,
                            _IOGPUIOCommandQueueIOCommandBufferBarrierComplete,
                            _IOGPUIOCommandQueueIOCommandBufferComplete,
                            _IOGPUIOCommandQueuePerformIO,
                            _IOGPUIOCommandQueueRelease,
                            _IOGPUIOCommandQueueSetDispatchQueue,
                            _IOGPUIOCommandQueueSubmitIOCommands,
                            _IOGPUIOCommandQueueTryCancelIOCommandBuffer,
                            _IOGPUKillClient_LeakingCommandQueue,
                            _IOGPUMetalCommandBufferStorageAllocDebugBuffer,
                            _IOGPUMetalCommandBufferStorageAllocResourceAtIndex,
                            _IOGPUMetalCommandBufferStorageAllocSidebandBuffer,
                            _IOGPUMetalCommandBufferStorageBeginKernelCommands,
                            _IOGPUMetalCommandBufferStorageBeginSegment,
                            _IOGPUMetalCommandBufferStorageCreate,
                            _IOGPUMetalCommandBufferStorageCreateExt,
                            _IOGPUMetalCommandBufferStorageDealloc,
                            _IOGPUMetalCommandBufferStorageEndKernelCommands,
                            _IOGPUMetalCommandBufferStorageEndSegment,
                            _IOGPUMetalCommandBufferStorageFinalizeShmemHeader,
                            _IOGPUMetalCommandBufferStorageGetDebugBufferPointers,
                            _IOGPUMetalCommandBufferStorageGetSegmentListPointers,
                            _IOGPUMetalCommandBufferStorageGrowDebugBuffer,
                            _IOGPUMetalCommandBufferStorageGrowKernelCommandBuffer,
                            _IOGPUMetalCommandBufferStorageGrowSegmentList,
                            _IOGPUMetalCommandBufferStorageGrowSidebandBuffer,
                            _IOGPUMetalCommandBufferStoragePoolCreate,
                            _IOGPUMetalCommandBufferStoragePoolCreateStorage,
                            _IOGPUMetalCommandBufferStoragePoolDealloc,
                            _IOGPUMetalCommandBufferStoragePoolPurge,
                            _IOGPUMetalCommandBufferStoragePoolReturnStorage,
                            _IOGPUMetalCommandBufferStorageReleaseAllResources,
                            _IOGPUMetalCommandBufferStorageReleaseDeviceShmems,
                            _IOGPUMetalCommandBufferStorageReset,
                            _IOGPUMetalCommandBufferStorageResumeSegment,
                            _IOGPUMetalDeviceShmemPoolCreateShmem,
                            _IOGPUMetalDeviceShmemRelease,
                            _IOGPUMetalDeviceShmemUpdateTrimLevel,
                            _IOGPUMetalPooledResourceRelease,
                            _IOGPUMetalResourcePoolCreatePooledResource,
                            _IOGPUNotificationQueueCreate,
                            _IOGPUNotificationQueueDidSubmit,
                            _IOGPUNotificationQueueDispatchAvailableCompletionNotifications,
                            _IOGPUNotificationQueueGetID,
                            _IOGPUNotificationQueueGetTypeID,
                            _IOGPUNotificationQueueRelease,
                            _IOGPUNotificationQueueSetDispatchQueue,
                            _IOGPUNotificationQueueWillSubmit,
                            _IOGPUResourceCheckSysMem, _IOGPUResourceCreate,
                            _IOGPUResourceCreateAllocationIdentifierSet,
                            _IOGPUResourceCreateIOSurface,
                            _IOGPUResourceFinishEvent,
                            _IOGPUResourceFinishSysMem,
                            _IOGPUResourceGetClientShared,
                            _IOGPUResourceGetClientSharedPrivate,
                            _IOGPUResourceGetDataBytes,
                            _IOGPUResourceGetDataSize,
                            _IOGPUResourceGetGPUVirtualAddress,
                            _IOGPUResourceGetGPUVirtualAddressLength,
                            _IOGPUResourceGetGlobalTraceObjectID,
                            _IOGPUResourceGetPrivate,
                            _IOGPUResourceGetProtectionOptions,
                            _IOGPUResourceGetResidentDataSize,
                            _IOGPUResourceGetTypeID,
                            _IOGPUResourceListAddResource,
                            _IOGPUResourceListAddResourceNoThreshold,
                            _IOGPUResourceListDestroy, _IOGPUResourceListInit,
                            _IOGPUResourceListMerge,
                            _IOGPUResourceListMergeLists,
                            _IOGPUResourceListReset,
                            _IOGPUResourceListShowResources,
                            _IOGPUResourceRelease,
                            _IOGPUResourceSetOwnerIdentity,
                            _IOGPUResourceSetPurgeable, _IOGPUResourceTestEvent,
                            ___globalGPUCommPage, __ioGPUMemoryInfo,
                            _iogpumetal_atomic_add ]
    objc-classes:         [ IOGPUMTLEvent, IOGPUMTLFence, IOGPUMTLLateEvalEvent,
                            IOGPUMemoryInfo, IOGPUMetalAccelerationStructure,
                            IOGPUMetalBlitCommandEncoder, IOGPUMetalBuffer,
                            IOGPUMetalCommandBuffer, IOGPUMetalCommandEncoder,
                            IOGPUMetalCommandQueue,
                            IOGPUMetalComputeCommandEncoder,
                            IOGPUMetalDebugCommandEncoder, IOGPUMetalDevice,
                            IOGPUMetalDeviceShmem, IOGPUMetalDeviceShmemPool,
                            IOGPUMetalFence, IOGPUMetalHeap,
                            IOGPUMetalIOCommandBuffer, IOGPUMetalIOCommandQueue,
                            IOGPUMetalIOHandleCompressed, IOGPUMetalIOHandleRaw,
                            IOGPUMetalIndirectArgumentEncoder,
                            IOGPUMetalIndirectCommandBuffer,
                            IOGPUMetalIndirectComputeCommand,
                            IOGPUMetalIndirectRenderCommand,
                            IOGPUMetalIntersectionFunctionTable,
                            IOGPUMetalParallelRenderCommandEncoder,
                            IOGPUMetalPooledResource,
                            IOGPUMetalRenderCommandEncoder, IOGPUMetalResource,
                            IOGPUMetalResourcePool,
                            IOGPUMetalResourceStateCommandEncoder,
                            IOGPUMetalTexture, IOGPUMetalTextureLayout,
                            IOGPUMetalVisibleFunctionTable, _IOGPUMetalMTLEvent,
                            _IOGPUMetalMTLLateEvalEvent ]
    objc-ivars:           [ IOGPUMTLEvent._deviceRef,
                            IOGPUMTLEvent._enableBarrier,
                            IOGPUMTLEvent._eventName,
                            IOGPUMTLEvent._globalTraceObjectID,
                            IOGPUMTLFence._deviceRef, IOGPUMTLFence._fenceName,
                            IOGPUMTLLateEvalEvent._deviceRef,
                            IOGPUMTLLateEvalEvent._eventName,
                            IOGPUMTLLateEvalEvent._globalTraceObjectID,
                            IOGPUMemoryInfo._memoryInfoLock,
                            IOGPUMemoryInfo.fResourceListHead,
                            IOGPUMemoryInfo.memlist_key,
                            IOGPUMetalAccelerationStructure._buffer,
                            IOGPUMetalAccelerationStructure._bufferOffset,
                            IOGPUMetalAccelerationStructure._descriptor,
                            IOGPUMetalAccelerationStructure._resourceIndex,
                            IOGPUMetalBuffer._aneIOSurface,
                            IOGPUMetalBuffer._deallocator,
                            IOGPUMetalBuffer._iosurface,
                            IOGPUMetalBuffer._length, IOGPUMetalBuffer._pointer,
                            IOGPUMetalBuffer._primaryBuffer,
                            IOGPUMetalBuffer._primaryBufferIndex,
                            IOGPUMetalBuffer._primaryBufferOffset,
                            IOGPUMetalBuffer._primaryHeapIndex,
                            IOGPUMetalCommandBuffer._commitAndResetSem,
                            IOGPUMetalCommandBuffer._completedCallbackBlockPtr,
                            IOGPUMetalCommandBuffer._device,
                            IOGPUMetalCommandBuffer._protectionOptions,
                            IOGPUMetalCommandBuffer._purgedResources,
                            IOGPUMetalCommandBuffer._scheduledCallbackBlockPtr,
                            IOGPUMetalCommandBuffer._storage,
                            IOGPUMetalCommandBuffer._submitToHardwareTimeStampPointer,
                            IOGPUMetalCommandQueue._backgroundPriority,
                            IOGPUMetalCommandQueue._commandQueue,
                            IOGPUMetalCommandQueue._device,
                            IOGPUMetalCommandQueue._disableAsyncCompletionDispatch,
                            IOGPUMetalCommandQueue._priority,
                            IOGPUMetalDebugCommandEncoder._api_resourceList,
                            IOGPUMetalDebugCommandEncoder._kernelCommandBufferCurrent,
                            IOGPUMetalDebugCommandEncoder._kernelCommandBufferEnd,
                            IOGPUMetalDebugCommandEncoder._resourceList,
                            IOGPUMetalDevice._accelID,
                            IOGPUMetalDevice._acceleratorPort,
                            IOGPUMetalDevice._buffer_suballocator,
                            IOGPUMetalDevice._commandBufferStoragePool,
                            IOGPUMetalDevice._configBits,
                            IOGPUMetalDevice._deviceBits,
                            IOGPUMetalDevice._deviceRef,
                            IOGPUMetalDevice._deviceWrapper,
                            IOGPUMetalDevice._device_dispatch_queue,
                            IOGPUMetalDevice._device_pool_cleanup_lock,
                            IOGPUMetalDevice._device_pool_cleanup_queue,
                            IOGPUMetalDevice._device_pool_cleanup_requested,
                            IOGPUMetalDevice._device_pool_cleanup_scheduled,
                            IOGPUMetalDevice._device_pool_cleanup_source,
                            IOGPUMetalDevice._disableGPUIO,
                            IOGPUMetalDevice._ioKernelCommandListShmemPool,
                            IOGPUMetalDevice._numCommandBuffers,
                            IOGPUMetalDevice._registryID,
                            IOGPUMetalDevice._segmentByteThreshold,
                            IOGPUMetalDevice._sharedMemorySize,
                            IOGPUMetalDevice._storageCreateParams,
                            IOGPUMetalDevice._textureRam,
                            IOGPUMetalDevice._videoRam,
                            IOGPUMetalDeviceShmem._device,
                            IOGPUMetalDeviceShmem._priv,
                            IOGPUMetalDeviceShmem._shmemID,
                            IOGPUMetalDeviceShmem._shmemSize,
                            IOGPUMetalDeviceShmem._virtualAddress,
                            IOGPUMetalDeviceShmem.purgeable,
                            IOGPUMetalDeviceShmemPool._priv,
                            IOGPUMetalFence._device, IOGPUMetalFence._fence,
                            IOGPUMetalFence._fenceIndex,
                            IOGPUMetalHeap._allocator, IOGPUMetalHeap._device,
                            IOGPUMetalHeap._mutex, IOGPUMetalHeap._resource,
                            IOGPUMetalHeap._size,
                            IOGPUMetalIOCommandBuffer._commandBufferID,
                            IOGPUMetalIOCommandBuffer._commandListHeader,
                            IOGPUMetalIOCommandBuffer._committed,
                            IOGPUMetalIOCommandBuffer._device,
                            IOGPUMetalIOCommandBuffer._globalTraceObjectID,
                            IOGPUMetalIOCommandBuffer._gpuBlitEncoder,
                            IOGPUMetalIOCommandBuffer._gpuCommandBuffer,
                            IOGPUMetalIOCommandBuffer._hasFollowOnGPUWork,
                            IOGPUMetalIOCommandBuffer._ioCompletionGroup,
                            IOGPUMetalIOCommandBuffer._ioKernelCommandShmem,
                            IOGPUMetalIOCommandBuffer._ioKernelCommandShmemCurrent,
                            IOGPUMetalIOCommandBuffer._ioKernelCommandShmemEnd,
                            IOGPUMetalIOCommandBuffer._ioKernelCommandShmemStart,
                            IOGPUMetalIOCommandBuffer._lastBarrierNotificationCount,
                            IOGPUMetalIOCommandBuffer._notificationCount,
                            IOGPUMetalIOCommandBuffer._queue,
                            IOGPUMetalIOCommandBuffer._stagingBuffers,
                            IOGPUMetalIOCommandBuffer._tryCancel,
                            IOGPUMetalIOCommandQueue._commandQueueEventSource,
                            IOGPUMetalIOCommandQueue._completionQueueDispatch,
                            IOGPUMetalIOCommandQueue._decompressionQueue,
                            IOGPUMetalIOCommandQueue._device,
                            IOGPUMetalIOCommandQueue._globalTraceObjectID,
                            IOGPUMetalIOCommandQueue._gpuQueue,
                            IOGPUMetalIOCommandQueue._ioCommandQueueRef,
                            IOGPUMetalIOCommandQueue._ioThreadDispatch,
                            IOGPUMetalIOCommandQueue._pendingQueue,
                            IOGPUMetalIOCommandQueue._pendingQueueLock,
                            IOGPUMetalIOCommandQueue._submissionQueueDispatch,
                            IOGPUMetalIOCommandQueue._submittedQueue,
                            IOGPUMetalIOCommandQueue._submittedQueueLock,
                            IOGPUMetalIOHandleCompressed._dev,
                            IOGPUMetalIOHandleCompressed._globalTraceObjectID,
                            IOGPUMetalIOHandleCompressed._vnioID,
                            IOGPUMetalIOHandleRaw._dev,
                            IOGPUMetalIOHandleRaw._globalTraceObjectID,
                            IOGPUMetalIOHandleRaw._vnioID,
                            IOGPUMetalIndirectCommandBuffer._commandBufferType,
                            IOGPUMetalIndirectCommandBuffer._descriptor,
                            IOGPUMetalIndirectCommandBuffer._internalHeader,
                            IOGPUMetalIndirectCommandBuffer._maxCommandCount,
                            IOGPUMetalIndirectCommandBuffer._privateICBuffer,
                            IOGPUMetalIndirectCommandBuffer._privateIndirectComputeEncoder,
                            IOGPUMetalIndirectCommandBuffer._privateIndirectRenderEncoder,
                            IOGPUMetalIntersectionFunctionTable._visibleFunctionTable,
                            IOGPUMetalPooledResource._priv,
                            IOGPUMetalResource._res, IOGPUMetalResource.next,
                            IOGPUMetalResource.prev, IOGPUMetalResource.uniqueId,
                            IOGPUMetalResourcePool._device,
                            IOGPUMetalResourcePool._priv,
                            IOGPUMetalResourcePool._resourceArgs,
                            IOGPUMetalResourcePool._resourceArgsSize,
                            IOGPUMetalResourcePool._resourceClass,
                            IOGPUMetalResourcePool.age_to_purge,
                            IOGPUMetalResourcePool.generation,
                            IOGPUMetalTexture._allowGPUOptimizedContents,
                            IOGPUMetalTexture._arrayLength,
                            IOGPUMetalTexture._buffer,
                            IOGPUMetalTexture._bufferBytesPerRow,
                            IOGPUMetalTexture._bufferOffset,
                            IOGPUMetalTexture._deallocator,
                            IOGPUMetalTexture._depth,
                            IOGPUMetalTexture._framebufferOnly,
                            IOGPUMetalTexture._height,
                            IOGPUMetalTexture._iosurface,
                            IOGPUMetalTexture._iosurfacePlane,
                            IOGPUMetalTexture._isCompressed,
                            IOGPUMetalTexture._isDrawable,
                            IOGPUMetalTexture._length,
                            IOGPUMetalTexture._mipmapLevelCount,
                            IOGPUMetalTexture._numFaces,
                            IOGPUMetalTexture._parentRelativeLevel,
                            IOGPUMetalTexture._parentRelativeSlice,
                            IOGPUMetalTexture._parentTexture,
                            IOGPUMetalTexture._pixelFormat,
                            IOGPUMetalTexture._pointer,
                            IOGPUMetalTexture._primaryBuffer,
                            IOGPUMetalTexture._primaryBufferIndex,
                            IOGPUMetalTexture._primaryBufferOffset,
                            IOGPUMetalTexture._primaryHeapIndex,
                            IOGPUMetalTexture._rootResourceIsSuballocatedBuffer,
                            IOGPUMetalTexture._rotation,
                            IOGPUMetalTexture._sampleCount,
                            IOGPUMetalTexture._shareable,
                            IOGPUMetalTexture._swizzle,
                            IOGPUMetalTexture._textureType,
                            IOGPUMetalTexture._usage, IOGPUMetalTexture._width,
                            IOGPUMetalTexture._writeSwizzleEnabled,
                            _IOGPUMetalMTLEvent._device,
                            _IOGPUMetalMTLEvent._label,
                            _IOGPUMetalMTLEvent._labelLock,
                            _IOGPUMetalMTLEvent._labelTraceID,
                            _IOGPUMetalMTLLateEvalEvent._device,
                            _IOGPUMetalMTLLateEvalEvent._label,
                            _IOGPUMetalMTLLateEvalEvent._labelLock,
                            _IOGPUMetalMTLLateEvalEvent._labelTraceID ]
...
